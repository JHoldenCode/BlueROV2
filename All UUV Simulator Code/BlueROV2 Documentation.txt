Bugs
Throughout downloading and working with UUV Simulator and Gazebo I encountered some bugs that may or may not be fixed in the future. Starting off, its important to note that if you want to work with the rexrov2, you need to download that package in addition to the regular UUV Sim. Both packages can be found on the same site. Also, I'm not sure if I ever got the standard rexrov to work, but I did get the standard uuv working. Early on, I ran into a lot of problems trying to spawn the rexrov2. I eventually found a hotfix to one of the launch files <https://github.com/FletcherFT/rexrov2/commit/a79da7d7cc7914dfa567ba86ca1af105482cf623> which allowed me to spawn the rexrov at a specific position and include other files in order to cause disturbances, send waypoints, or run scripts. I was never able to get more than one of these files to run at once, so for example, if you want to have the robot follow some way points and be disturbed at the same time, you may have to fiure out another way to do that.

Now to explain some bugs that I am not sure are "intentional" or not. When testing my simulations, I would run them several times to see if the behavior would remain the same between trials. What happened was very odd because some trials, often the first few, would run perfectly fine and the rexrov would run at a normal speed. However, at some point it would just slow down drastically from the moment I hit run and move at about 1/10th of the speed it normally would. This would happen on back to back cases with the same code and I am not sure why. I would even try multiplying the speed by two or three times, but still the robot would move slowly. I do not believe this was because my machine was lagging as working on other tabs and within the code editor was completely fine. Another bug that I am unsure of has something to do with the current of the ocean in the simulation. I know that you can set certain features in the environment, including the current, using the disturbance interface, so it makes no sense for the current to be randomized on each new simulation. It should have a default value, but in my simulations, it would seemingly change each time, sometimes knocking the rexrov way off of its waypoint course, and other times having little to no effect. I attempted to create a disturbance file witht the explicit purpose of setting the current to zero so it would not interfere, but this, just like the speed, still remained random on each new trial.

Setup
In order to set up my environment, first, I attempted to download Oracle Virtual Box. I have a Windows, so this was my best chance to get a Linux environment. The virtual box was fine downloading everything and installing both gazebo and the UUV Simulator, but I was never able to get the actual simulation to start running. I have a suspicion also that if it did start running that it would be far too slow to make any real progress with. My solution to this problem was to use the online environment at <https://www.theconstructsim.com>. You can make an account and then click 'create Rosject' in order to begin. It starts preinstalled with any ROS version you choose, and you can easily install the UUV Sim right on there. Its simulation time in gazebo was not the best, but the lag was very manageable. The longest time it would ever take me to run a simulation was about 40 mins and that was also when I would get the bug where my rexrov was moving at snail pace. At the time of starting this project I was granted a premium account, but you can still create ROSjects on the basic free account; you just have less total space.

Methods
My simulations involved spawning the rexrov2 into an environment that I'd partially created and then running a script in order to collect data, test a feature, or perform a task. Most of the simulations only ran with one script, however, some more advanced ones would run with two or three with my culminating simulation travelling to the location of a sunken ship, localizing the ship using data from a previous simulation, and then "cleaning" the ship by covering its surface area. In order to construct these simulations, I would first create a world. I would usually start off with the basic ocean_waves world and then edit it in Gazebo by adding some obstacles based off of what the goal of the simulation was. I never created my own obstacles or objects as that would require another modeling software, but Gazebo has a vast library of objects that you can implement. You can also make changes to objects in the Gazebo library by editing their .dae and .xacro files, but this can be very tricky so I just suggest making minor changes. Based on my final project, a lot of the worlds I used just included the sunken ship, but I also included big reactor towers to act as obstacles. After creating a world you can save it and then replace the world in the default launch files with your own. In order to create my own launch files, I almost always just used the "start_demo_pid_controller" launch file and edited it from there. After that all you need to do is write your scripts and you can link them at the bottom of the launch file to be automatically executed. For the multi script simulations, I was not able to get them working correctly all in the same launch file, so I made three separate launch files and manually launched them when required.

Next Steps
All of the work that I did with scripts all related to the rexrov2. Due to the style that I wrote them in, I believe that they should work with the bluerov2 in Gazebo, however, due to the light weight of the bluerov2, there may be complications. The reason that these simulations were not run with the bluerov2 is because we could not get it into Gazebo. This is what I am working on now. I originally started attempting to implement the fork from FletcherFT on Github, but that fork is very outdated and might contain some bugs. The furthest that I got it to work was to have the bluerov spawn in the environment and then sink right to the seafloor. After doing some research I found a more recent fork from Fredvaz that seems more promising <https://github.com/fredvaz/bluerov2>. Currently I am attempting to use this fork but have not looked into it too much.

Movement Explained
There is a built in feature with the UUV Sim that allows you to program waypoints for the uuv to follow. There are other similar features that can develop helical or other styles of movement for the robot. Not until the end of my term did I realize that with these features, you are able to make the uuv face a certain direction during the entire simulation. I thought that it could only face towards wherever it was traveling to. This was important because, when "cleaning" the ship, the rexrov would need to be facing the ship the entire time and not just passing by with the ship to its side. To fix this, I developed my own waypoint algorithm that uses the rexrov's GPS to tell where it is and at what angle it is pointing. It works well enough, getting the robot from point A to B to C and so on, but due to the aformentioned current issue, it would not be able to travel in a straight line directly toward its destination, but would rather make constant adjustments to keep itself on course. My method for movement may be a bit more clunky than the one that is predefined in the simulation, but I believe that it allows for more precision on where you want the uuv to move and in what way.